<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
                         "http://docbook.org/xml/4.5/docbookx.dtd"
[
  <!ENTITY longname     "SUSE Documentation Style Checker">
  <!ENTITY rpm          "suse-doc-style-checker">
  <!ENTITY command      "sdsc">
  <!ENTITY version      "@VERSION@">
]>
<refentry id="sdsc" lang="en">
  <refentryinfo>
    <productname>&longname;</productname>
    <authorgroup>
      <author>
        <contrib>Developer, Documenter</contrib>
        <firstname>Stefan</firstname>
        <surname>Knorr</surname>
      </author>
    </authorgroup>
  </refentryinfo>
  <refmeta>
    <refentrytitle>&command;</refentrytitle>
    <manvolnum>1</manvolnum>
    <refmiscinfo class="date"><?dbtimestamp format="Y B d"?></refmiscinfo>
    <refmiscinfo class="version">&version;</refmiscinfo>
    <refmiscinfo class="manual">&command;</refmiscinfo>
  </refmeta>
  <refnamediv>
    <refname>&command;</refname>
    <refpurpose>Style Checker for SUSE Documentation</refpurpose>
  </refnamediv>
  <refsynopsisdiv id="sdsc.synopsis">
    <title>Synopsis</title>
    <cmdsynopsis><command>&command;</command>
      <arg choice="opt">--show</arg>
      <arg choice="opt">--performance</arg>
      <arg choice="opt">--checkpatterns</arg>
      <arg choice="req"><replaceable>INPUTFILE</replaceable></arg>
      <arg choice="opt"><replaceable>OUTPUTFILE</replaceable></arg>
    </cmdsynopsis>
    <cmdsynopsis><command>&command;</command> <arg choice="plain">--bookmarklet</arg></cmdsynopsis>
    <cmdsynopsis><command>&command;</command> <arg choice="plain">--help</arg></cmdsynopsis>
    <cmdsynopsis><command>&command;</command> <arg choice="plain">--version</arg></cmdsynopsis>
  </refsynopsisdiv>

  <refsect1>
    <title>Description</title>

    <para>&longname; checks documentation for compliance with the SUSE
      Style Guide. Among other things, it checks for terminology, duplicated
      words, long sentences, and lone subsections. &longname; is not
      interactive.
    </para>
  </refsect1>

  <refsect1>
    <title>Input</title>

    <para>The input must be a single XML file without custom entities
      or XIncludes. The checker is meant to be used with DocBook 4 or Novdoc
      files as input. Ideally, create the input file using DAPS:
    </para>
    <screen><command>daps <option>-d <replaceable>DC-file</replaceable></option> <option>bigfile</option></command></screen>

  </refsect1>

  <refsect1>
    <title>Output</title>

    <para>The output of the checker is an XML file containing messages
      indicating all recognized problems with the input file.
    </para>

  </refsect1>

  <refsect1>
    <title>Parameters for Users</title>

    <variablelist>
      <varlistentry>
        <term><option>--bookmarklet</option>, <option>-b</option></term>
        <listitem>
          <para>Open a Web page in the default browser that lets you install
            a bookmarklet to manage style checker results. (Try this option
            before checking a document for the first time!)
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>--help</option>, <option>-h</option></term>
        <listitem>
         <para>Show help message, then exit.
         </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>--show</option>, <option>-s</option></term>
        <listitem>
          <para>Show the final report in the default browser.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>--version</option>, <option>-v</option></term>
        <listitem>
          <para>Show message with program name and version number, then exit.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <note>
      <title>Default Browsers</title>
      <para>Both <option>--bookmarklet</option> and <option>--show</option> use
        the <literal>BROWSER</literal> variable, or the default browser
        if <literal>BROWSER</literal> is unset. Not all browsers open report
        files correctly and for some users, a text
        editor or similar will open. In such cases,
        set the <literal>BROWSER</literal> variable manually:
      </para>
      <screen><command>export BROWSER=<replaceable>/MY/FAVORITE/BROWSER</replaceable></command></screen>
      <para>Ideally, use Chrome, Chromium or Firefox.
      </para>
    </note>
  </refsect1>

  <refsect1>
    <title>Parameters for Developers</title>

    <variablelist>
      <varlistentry>
        <term><option>--checkpatterns</option></term>
        <listitem>
          <para>Check formal validity of the built-in regular expression
            patterns. Check if any built-in regular expression pattern matches
            an empty string or a single space character.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>--performance</option></term>
        <listitem>
         <para>Write performance measurements to stdout.
         </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>

  <refsect1>
    <title>For More Information</title>

    <variablelist>
      <varlistentry>
        <term><command>daps <option>stylecheck</option> <option>--help</option></command></term>
        <listitem>
          <para>Help for the DAPS subcommand that uses
            <command>&command;</command>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><ulink url="https://www.gitorious.org/style-checker/style-checker/"/></term>
        <listitem>
         <para>Web site of &longname;.
         </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
